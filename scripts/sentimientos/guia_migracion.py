"""
Gu√≠a de Migraci√≥n y Uso de la Nueva Estructura Modular
=====================================================

Este archivo muestra c√≥mo migrar del archivo monol√≠tico original
a la nueva estructura modular de an√°lisis de sentimientos.

Autor: Sistema de An√°lisis de Opiniones Tur√≠sticas
Fecha: 2025
"""

# ====================================================================
# EJEMPLO 1: USO SIMPLE CON EL ANALIZADOR COMPLETO (RECOMENDADO)
# ====================================================================

def ejemplo_uso_simple():
    """Ejemplo de uso simple con la clase integrada."""
    import pandas as pd
    from sentimientos import AnalizadorSentimientosCompleto
    
    # Crear analizador completo
    analizador = AnalizadorSentimientosCompleto()
    
    # Cargar datos (ejemplo)
    # df = pd.read_csv('ruta/al/dataset.csv')
    
    # An√°lisis completo con calificaciones √∫nicamente
    # df_resultado = analizador.analisis_completo_calificaciones(
    #     df, 
    #     mostrar_visualizaciones=True, 
    #     ciudad="Canc√∫n"
    # )
    
    # An√°lisis comparativo (calificaciones + HuggingFace)
    # df_completo = analizador.analisis_comparativo_completo(
    #     df,
    #     cargar_modelo_hf=True,
    #     mostrar_visualizaciones=True,
    #     ciudad="Canc√∫n"  
    # )
    
    # Generar reporte
    # reporte = analizador.generar_reporte_completo(df_completo, "resultados.csv")
    
    print("‚úÖ Ejemplo de uso simple documentado")


# ====================================================================
# EJEMPLO 2: USO MODULAR AVANZADO
# ====================================================================

def ejemplo_uso_modular():
    """Ejemplo de uso modular con componentes espec√≠ficos."""
    import pandas as pd
    from sentimientos import (
        AnalizadorCalificaciones,
        AnalizadorHuggingFace, 
        VisualizadorSentimientos,
        ComparadorSentimientos,
        cargar_dataset_ciudad,
        limpiar_texto_opiniones
    )
    
    # 1. Cargar y limpiar datos
    # df = cargar_dataset_ciudad("ruta/al/dataset.csv")
    # df_limpio = limpiar_texto_opiniones(df)
    
    # 2. An√°lisis por calificaciones
    analizador_cal = AnalizadorCalificaciones()
    # df_con_sentimientos = analizador_cal.procesar_sentimientos_dataset(df_limpio)
    # estadisticas = analizador_cal.obtener_estadisticas_sentimientos(df_con_sentimientos)
    
    # 3. An√°lisis con HuggingFace (opcional)
    analizador_hf = AnalizadorHuggingFace()
    # if analizador_hf.cargar_modelo():
    #     df_completo = analizador_hf.procesar_dataset_completo(df_con_sentimientos)
    
    # 4. Visualizaciones
    visualizador = VisualizadorSentimientos()
    # fig = visualizador.crear_visualizaciones_basicas(df_con_sentimientos, "Ciudad")
    
    # 5. Comparaci√≥n entre m√©todos
    comparador = ComparadorSentimientos()
    # if 'SentimientoHF' in df_completo.columns:
    #     comparacion = comparador.comparar_sentimientos(df_completo)
    #     comparador.mostrar_comparacion(comparacion)
    
    print("‚úÖ Ejemplo de uso modular documentado")


# ====================================================================
# MIGRACI√ìN DESDE EL ARCHIVO ORIGINAL
# ====================================================================

def guia_migracion():
    """Gu√≠a de migraci√≥n desde analisis_sentimientos.py original."""
    
    print("üìã GU√çA DE MIGRACI√ìN DEL C√ìDIGO ORIGINAL")
    print("=" * 60)
    
    migracion = {
        "AnalizadorSentimientos": "AnalizadorCalificaciones",
        "AnalizadorSentimientosHuggingFace": "AnalizadorHuggingFace", 
        "crear_visualizaciones()": "VisualizadorSentimientos.crear_visualizaciones_basicas()",
        "comparar_sentimientos()": "ComparadorSentimientos.comparar_sentimientos()",
        "cargar_dataset_ciudad()": "utils_sentimientos.cargar_dataset_ciudad()",
        "mostrar_info_dataset()": "utils_sentimientos.mostrar_info_dataset()"
    }
    
    print("üîÑ EQUIVALENCIAS:")
    for original, nuevo in migracion.items():
        print(f"   {original:<35} ‚Üí {nuevo}")
    
    print("\nüí° VENTAJAS DE LA NUEVA ESTRUCTURA:")
    print("   ‚úÖ C√≥digo m√°s organizado y mantenible")
    print("   ‚úÖ Responsabilidades claramente separadas")
    print("   ‚úÖ F√°cil importaci√≥n de componentes espec√≠ficos")
    print("   ‚úÖ Mejor testabilidad y reutilizaci√≥n")
    print("   ‚úÖ Interfaz unificada con AnalizadorSentimientosCompleto")


# ====================================================================
# ESTRUCTURA DE ARCHIVOS CREADA
# ====================================================================

def mostrar_estructura_archivos():
    """Muestra la estructura de archivos creada."""
    
    print("\nüìÅ NUEVA ESTRUCTURA DE ARCHIVOS:")
    print("=" * 50)
    print("""
    scripts/sentimientos/
    ‚îú‚îÄ‚îÄ __init__.py                     # M√≥dulo principal e interfaces
    ‚îú‚îÄ‚îÄ base_sentimientos.py            # Configuraciones y constantes base
    ‚îú‚îÄ‚îÄ analizador_calificaciones.py    # An√°lisis basado en estrellas
    ‚îú‚îÄ‚îÄ analizador_huggingface.py       # An√°lisis con modelos ML
    ‚îú‚îÄ‚îÄ visualizaciones_sentimientos.py # Todas las visualizaciones
    ‚îú‚îÄ‚îÄ comparador_sentimientos.py      # Comparaci√≥n entre m√©todos
    ‚îî‚îÄ‚îÄ utils_sentimientos.py           # Funciones auxiliares
    """)
    
    print("üìã RESPONSABILIDADES POR ARCHIVO:")
    responsabilidades = {
        "base_sentimientos.py": "Configuraciones, mapeos, constantes globales",
        "analizador_calificaciones.py": "L√≥gica de an√°lisis por calificaciones de estrellas",
        "analizador_huggingface.py": "Integraci√≥n con modelos preentrenados",
        "visualizaciones_sentimientos.py": "Gr√°ficos, charts, heatmaps",
        "comparador_sentimientos.py": "M√©tricas, comparaciones, discordancias",
        "utils_sentimientos.py": "Carga de datos, limpieza, exportaci√≥n",
        "__init__.py": "Interfaz unificada y clases principales"
    }
    
    for archivo, responsabilidad in responsabilidades.items():
        print(f"   üìÑ {archivo:<30} # {responsabilidad}")


# ====================================================================
# EJEMPLOS DE IMPORTACI√ìN
# ====================================================================

def ejemplos_importacion():
    """Muestra diferentes formas de importar los m√≥dulos."""
    
    print("\nüì¶ EJEMPLOS DE IMPORTACI√ìN:")
    print("=" * 40)
    
    print("# 1. Importaci√≥n simple (m√°s f√°cil)")
    print("from sentimientos import AnalizadorSentimientosCompleto")
    print("analizador = AnalizadorSentimientosCompleto()")
    
    print("\n# 2. Importaci√≥n modular espec√≠fica")
    print("from sentimientos import AnalizadorCalificaciones, VisualizadorSentimientos")
    
    print("\n# 3. Importaci√≥n de utilidades")
    print("from sentimientos import cargar_dataset_ciudad, limpiar_texto_opiniones")
    
    print("\n# 4. Importaci√≥n completa")
    print("import sentimientos")
    print("analizador = sentimientos.AnalizadorCalificaciones()")


# ====================================================================
# FUNCI√ìN PRINCIPAL DE DEMOSTRACI√ìN
# ====================================================================

def main():
    """Funci√≥n principal que ejecuta todas las demostraciones."""
    print("üöÄ DEMOSTRACI√ìN DE LA NUEVA ESTRUCTURA MODULAR")
    print("=" * 70)
    
    guia_migracion()
    mostrar_estructura_archivos()
    ejemplos_importacion()
    ejemplo_uso_simple()
    ejemplo_uso_modular()
    
    print("\n‚úÖ MIGRACI√ìN COMPLETADA")
    print("üí° La nueva estructura mantiene toda la funcionalidad original")
    print("üí° pero con mejor organizaci√≥n y mantenibilidad")


if __name__ == "__main__":
    main()
