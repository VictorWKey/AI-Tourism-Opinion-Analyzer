# An√°lisis de T√≥picos - BERTopic vs FASTopic

Esta carpeta contiene dos implementaciones de modelado de t√≥picos para el an√°lisis de opiniones tur√≠sticas:

## üìã Notebooks Disponibles

### 07-modelado-de-topicos-con-bertopic.ipynb
- **M√©todo**: BERTopic (clustering-based)
- **Caracter√≠sticas**:
  - Usa UMAP + HDBSCAN para clustering
  - Genera visualizaciones interactivas
  - Configuraci√≥n autom√°tica inteligente
  - Integraci√≥n con LLM para nomenclatura

### 08-modelado-de-topicos-con-fastopic.ipynb  
- **M√©todo**: FASTopic (optimal transport-based)
- **Caracter√≠sticas**:
  - M√°s r√°pido en entrenamiento
  - Basado en transporte √≥ptimo
  - Mejor para textos cortos
  - Configuraci√≥n autom√°tica adaptativa
  - Comparaci√≥n directa con BERTopic

## üöÄ C√≥mo Usar

### Prerequisitos
```bash
# Instalar dependencias adicionales
pip install fastopic topmost
```

### Uso B√°sico
1. **Seleccionar ciudad** en la variable `CIUDAD_ANALIZAR`
2. **Ejecutar notebook** completo  
3. **Resultados se guardan** autom√°ticamente en el dataset principal

### Configuraci√≥n por Ciudad
```python
CIUDAD_ANALIZAR = "Puerto_vallarta"  # Cambiar aqu√≠
# Opciones: "Cancun", "CDMX", "Mazatlan", "Puebla", "Puerto_vallarta"
```

## üìä Comparaci√≥n de M√©todos

| Aspecto | BERTopic | FASTopic |
|---------|----------|----------|
| **Velocidad** | M√°s lento | ‚ö° M√°s r√°pido |
| **Textos cortos** | Bueno | üéØ Excelente |
| **Visualizaciones** | Ricas e interactivas | Espec√≠ficas y claras |
| **Configuraci√≥n** | Autom√°tica | ü§ñ Ultra-inteligente |
| **Estabilidad** | Dependiente de clustering | ‚úÖ M√°s estable |

## üîß Arquitectura Modular

### Scripts Utilizados
```
scripts/topicos/
‚îú‚îÄ‚îÄ configurador_fastopic.py     # Configuraci√≥n autom√°tica FASTopic
‚îú‚îÄ‚îÄ analizador_caracteristicas.py # Configuraci√≥n autom√°tica BERTopic  
‚îú‚îÄ‚îÄ clasificador_topicos_llm.py  # Nomenclatura con LLM
‚îú‚îÄ‚îÄ utils_topicos.py             # Utilidades compartidas
‚îî‚îÄ‚îÄ limpieza_texto_mejorado.py   # Preprocesamiento avanzado
```

### Flujo de Procesamiento
1. **Carga de datos** ‚Üí Filtro por ciudad
2. **Limpieza de texto** ‚Üí spaCy + lematizaci√≥n
3. **Configuraci√≥n autom√°tica** ‚Üí An√°lisis del corpus
4. **Entrenamiento** ‚Üí BERTopic o FASTopic
5. **Nomenclatura LLM** ‚Üí GPT-4o-mini para nombres
6. **Visualizaciones** ‚Üí Gr√°ficos + comparaciones
7. **Guardado** ‚Üí Dataset actualizado autom√°ticamente

## üìà Resultados

### Columnas Generadas
- `TopicoConBERTopic`: Nombres de t√≥picos de BERTopic
- `TopicoConFASTopic`: Nombres de t√≥picos de FASTopic  
- `TituloReviewLimpio`: Texto preprocesado (si no existe)

### Estad√≠sticas Mostradas
- Distribuci√≥n de t√≥picos por ciudad
- Relaci√≥n con sentimientos y subjetividad
- Comparaci√≥n entre m√©todos
- Ejemplos representativos por t√≥pico
- M√©tricas de calidad y tiempo

## üí° Recomendaciones de Uso

### Cu√°ndo usar BERTopic
- An√°lisis exploratorio inicial
- Datasets grandes (>1000 textos)
- Necesitas visualizaciones interactivas detalladas
- Textos largos y diversos

### Cu√°ndo usar FASTopic  
- An√°lisis r√°pido y eficiente
- Textos cortos (t√≠tulos, rese√±as breves)
- Comparaci√≥n con otros m√©todos
- Producci√≥n con restricciones de tiempo

### Flujo Recomendado
1. **Ejecutar BERTopic** primero para an√°lisis base
2. **Ejecutar FASTopic** para comparaci√≥n
3. **Analizar diferencias** en distribuciones
4. **Seleccionar m√©todo** seg√∫n necesidades

## üîÑ Procesamiento por Ciudades

### Estado de Progreso
- ‚úÖ Puerto Vallarta (completo en ambos)
- ‚è≥ Otras ciudades (ejecutar manualmente)

### Procesamiento Masivo
Para procesar todas las ciudades:
```python
ciudades = ["Cancun", "CDMX", "Mazatlan", "Puebla", "Puerto_vallarta"]
for ciudad in ciudades:
    CIUDAD_ANALIZAR = ciudad
    # Ejecutar an√°lisis...
```

## üìã Pr√≥ximos Pasos

1. **Comparar resultados** entre BERTopic y FASTopic
2. **Analizar concordancia** en t√≥picos identificados  
3. **Evaluar calidad** con m√©tricas espec√≠ficas
4. **Implementar ensemble** de ambos m√©todos
5. **Crear dashboard** con resultados integrados